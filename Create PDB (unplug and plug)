--Step 00 (Create a folder)
/u01/app/oracle/oradata/ORCL/pdbtest/

--step 01 (Close the PDB that want to move)
alter pluggable database pdb01 close immediate;

--step 2 (Convert PDB to xml file)
alter pluggable database pdb01  unplug into '/u01/app/oracle/oradata/pdbtest.xml'

--step3
drop pluggable database pdb01 keep datafiles; --you should keep it.


--step 4 -- but this not work in 18c
/*
DECLARE
  l_result BOOLEAN;
BEGIN
  l_result := DBMS_PDB.check_plug_compatibility(
                pdb_descr_file => '/u01/app/oracle/oradata/pdbtest.xml',
                pdb_name => 'pdbtest');

  IF l_result THEN
    DBMS_OUTPUT.PUT_LINE('compatible');
  ELSE
    DBMS_OUTPUT.PUT_LINE('incompatible');
  END IF;
END;

*/

--step 5
create pluggable database pdbtest
using '/u01/app/oracle/oradata/pdbtest.xml'
NOCOPY TEMPFILE REUSE; (if you want to use old datafile)
--FILE_NAME_CONVERT=('/u01/app/oracle/oradata/ORCL/pdb01/',
--            '/u01/app/oracle/oradata/ORCL/pdbtest/')
