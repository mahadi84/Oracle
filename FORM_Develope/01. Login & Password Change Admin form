

TABLE:
-----
create table pubali.user_info
(user_id number(10) primary key
, user_pass varchar2(20) not null
, user_name varchar2(30)
, user_type varchar2(20)
);

insert into pubali.user_info values (10, 123, 'mahadi', 'admin');
insert into pubali.user_info values (20, 123, 'hasan', 'operator');


Trigger WHEN_NEW_FORM_INSTANCE:
-------------------------------
SELECT PATH INTO :GLOBAL.PATH FROM PATH WHERE ROWNUM=1;

CODE for WHEN-BUTTON-PRESSED:
----------------------------

DECLARE
CURSOR U_LOGIN IS SELECT USERNAME, PASSWORD FROM LOGIN WHERE USERNAME=:USERNAME;
R_LOGIN U_LOGIN%ROWTYPE;
BEGIN
	OPEN U_LOGIN;
	FETCH U_LOGIN INTO R_LOGIN;
	CLOSE U_LOGIN;
	
	IF :LOGIN.USERNAME IS NULL THEN
		:MESS:= 'USERNAME IS REQUIRED';
	ELSIF :LOGIN.PASSWORD IS NULL THEN
		:MESS:= 'PASSWORD IS REQUIRED';
	ELSIF R_LOGIN.PASSWORD IS NULL THEN
		:MESS:= 'USERNAME NOT FOUND';
	ELSIF R_LOGIN.USERNAME=:LOGIN.USERNAME AND :LOGIN.PASSWORD <> R_LOGIN.PASSWORD THEN
		:MESS:= 'INVALID PASSWORD';
	ELSE
		:GLOBAL.USERNAME:=UPPER(R_LOGIN.USERNAME);
		:USERNAME:=NULL;
		:PASSWORD:=NULL;
		:MESS:=NULL;
		OPEN_FORM(:GLOBAL.PATH||'EMP_INFO_ADD.fmx');
	END IF;
	
	END;
		




